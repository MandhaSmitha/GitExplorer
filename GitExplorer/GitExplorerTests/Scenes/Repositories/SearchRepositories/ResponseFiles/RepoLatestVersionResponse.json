{
    "url": "https://api.github.com/repos/tipsi/tipsi-stripe/releases/10194553",
    "assets_url": "https://api.github.com/repos/tipsi/tipsi-stripe/releases/10194553/assets",
    "upload_url": "https://uploads.github.com/repos/tipsi/tipsi-stripe/releases/10194553/assets{?name,label}",
    "html_url": "https://github.com/tipsi/tipsi-stripe/releases/tag/5.0.0",
    "id": 10194553,
    "author": {
        "login": "isnifer",
        "id": 1788245,
        "node_id": "MDQ6VXNlcjE3ODgyNDU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1788245?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/isnifer",
        "html_url": "https://github.com/isnifer",
        "followers_url": "https://api.github.com/users/isnifer/followers",
        "following_url": "https://api.github.com/users/isnifer/following{/other_user}",
        "gists_url": "https://api.github.com/users/isnifer/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/isnifer/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/isnifer/subscriptions",
        "organizations_url": "https://api.github.com/users/isnifer/orgs",
        "repos_url": "https://api.github.com/users/isnifer/repos",
        "events_url": "https://api.github.com/users/isnifer/events{/privacy}",
        "received_events_url": "https://api.github.com/users/isnifer/received_events",
        "type": "User",
        "site_admin": false
    },
    "node_id": "MDc6UmVsZWFzZTEwMTk0NTUz",
    "tag_name": "5.0.0",
    "target_commitish": "master",
    "name": "Google Pay",
    "draft": false,
    "prerelease": false,
    "created_at": "2018-03-21T15:47:24Z",
    "published_at": "2018-03-21T16:44:16Z",
    "assets": [],
    "tarball_url": "https://api.github.com/repos/tipsi/tipsi-stripe/tarball/5.0.0",
    "zipball_url": "https://api.github.com/repos/tipsi/tipsi-stripe/zipball/5.0.0",
    "body": "# Changelog\r\n\r\n## [5.0.0] - 2018-03-21\r\n\r\n### Breaking changes:\r\n\r\n#### 1) Initialization\r\n \r\nbefore 5.0.0: \r\n\r\n```javascript\r\n// somewhere in the app start section\r\n  \r\nstripe.init({\r\n  merchantId: '<MERCHANT_ID>',\r\n  publishableKey: '<PUB_KEY>',\r\n  androidPayMode: 'test',      \r\n})\r\n  \r\nstripe.paymentRequestWithAndroidPay(paymentOptions)\r\n```\r\n\r\nafter 5.0.0:\r\n\r\n##### single-step initialization\r\n\r\n```javascript\r\n// same as above except used method name\r\n  \r\nstripe.setOptions({\r\n  merchantId: '<MERCHANT_ID>',\r\n  publishableKey: '<PUB_KEY>',\r\n  androidPayMode: 'test',      \r\n})\r\n  \r\nstripe.paymentRequestWithAndroidPay(paymentOptions)\r\n```\r\n\r\n##### multi-step initialization\r\n```javascript\r\n// somewhere in the app start section\r\n// make sure you've set androidPayMode before using androidPay related methods i.e.\r\n// stripe.deviceSupportsAndroidPay()\r\n// stripe.paymentRequestWithAndroidPay()\r\n// or runtime exception will be thrown\r\n  \r\nstripe.setOptions({\r\n  androidPayMode: 'test',      \r\n})\r\n  \r\n// somewhere else later i.e. near store cart code\r\nstripe.setOptions({\r\n  publishableKey: '<PUB_KEY>',\r\n})\r\n  \r\n// make sure you've set *all* needed options before, both androidPayMode and publishableKey\r\n// or exception will be thrown\r\n  \r\nstripe.paymentRequestWithAndroidPay(paymentOptions)\r\n```\r\n\r\n#### 2) billing/shipping address requirement\r\nbefore 5.0.0:\r\n```javascript\r\n// you couldn't before set billing_address_required, shipping_address_required options\r\n// to require user filling that data. shipping_address_required was true by default\r\n// and such data was missing in the method response (useless user input)\r\n  \r\nstripe.paymentRequestWithAndroidPay(paymentOptions)\r\n```\r\n\r\nafter 5.0.0:\r\n```javascript\r\n\r\n// explicitly set required input from user by\r\n// setting billing_address_required, shipping_address_required props,\r\n// omitted values are false by default\r\n  \r\nconst addressRequirements = {\r\n  billing_address_required: false,\r\n  shipping_address_required: true,\r\n}\r\n  \r\nstripe.paymentRequestWithAndroidPay({\r\n  paymentOptions,\r\n  ...addressRequirements,\r\n})\r\n```\r\n\r\n### Added\r\n- Modern GooglePay [api](https://developers.google.com/pay/api/setup) was used by default\r\n- `shippingContact`, `billingContact` appear are in results of `paymentRequestWithAndroidPay()`\r\n- Firebase dependency appears\r\n- More strict runtime argument checks\r\n\r\n### Changed\r\n- Method `setOptions()` performs multi-step initialization and used instead of `init()`. Options `publishableKey`, `androidPayMode` are settable at runtime. If method requires presence of options that are unset, runtime exception will be thrown. Special case: `androidPayMode` re-init is forbidden and **leads to runtime exception**.\r\n- Wallet api version bump\r\n- AndroidPay flow extracted from `StripeModule`\r\n- Better naming\r\n- Only create api client on demand\r\n- Extract commons to utils\r\n- Avoid copy and paste in old code\r\n\r\n### Removed\r\n- Obsolete AndroidPay flow is disabled by default and will be removed soon\r\n\r\n### Fixed\r\n- Fix of [Android Pay Shipping address not working](https://github.com/tipsi/tipsi-stripe/issues/240)\r\n- Avoid `StripeModule` Activity NPE\r\n- Avoid bugs regarding options default values\r\n- Fix leaked promise bug"
}
